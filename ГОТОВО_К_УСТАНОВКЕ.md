# ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ —É—Å—Ç–∞–Ω–æ–≤–∫–µ!

## –ö–∞–∫ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–æ–µ–∫—Ç

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

**–î–≤–∞–∂–¥—ã –∫–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ —Ñ–∞–π–ª:**
```
–£–°–¢–ê–ù–û–í–ò–¢–¨_–ü–†–û–ï–ö–¢.bat
```

–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
1. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç –≤–µ—Ä—Å–∏—é Python
2. ‚úÖ –°–æ–∑–¥–∞—Å—Ç –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ (.venv)
3. ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (aiogram, fastapi, sqlalchemy –∏ –¥—Ä.)
4. ‚úÖ –°–æ–∑–¥–∞—Å—Ç —Ñ–∞–π–ª .env –∏–∑ .env.example
5. ‚úÖ –ü—Ä–∏–º–µ–Ω–∏—Ç –º–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –í–∞—Ä–∏–∞–Ω—Ç 2: –†—É—á–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

–û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É –≤ –ø–∞–ø–∫–µ –ø—Ä–æ–µ–∫—Ç–∞ –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```bash
# 1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞
cd "C:\Users\–ï–≤–≥–µ–Ω–∏–π\Documents\unibot-main\unibot-main"

# 2. –°–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
python -m venv .venv

# 3. –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
.venv\Scripts\activate.bat

# 4. –û–±–Ω–æ–≤–∏—Ç–µ pip
python -m pip install --upgrade pip

# 5. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements-dev.txt

# 6. –°–æ–∑–¥–∞–π—Ç–µ .env —Ñ–∞–π–ª
copy .env.example .env

# 7. –ü—Ä–∏–º–µ–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏
alembic upgrade head
```

---

## –ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

### –®–∞–≥ 1: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ .env —Ñ–∞–π–ª

–û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `.env` –∏ —É–∫–∞–∂–∏—Ç–µ:

```env
# –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ:
BOT__TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω_–±–æ—Ç–∞

# –î–ª—è AI-–≥–µ–Ω–µ—Ä–∞—Ü–∏–π (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):
AI__ROUTERAI_API_KEY=–≤–∞—à_–∫–ª—é—á_routerai

# –î–ª—è –∞–¥–º–∏–Ω–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):
ADMIN__USERNAME=admin
ADMIN__PASSWORD=your_secure_password
```

**–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å BOT__TOKEN:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ @BotFather –≤ Telegram
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ /newbot
3. –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω

**–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å AI__ROUTERAI_API_KEY:**
1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ https://routerai.ru
2. –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç ‚Üí API-–∫–ª—é—á–∏
3. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –∫–ª—é—á

### –®–∞–≥ 2: –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞

```bash
# –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ (–µ—Å–ª–∏ –µ—â—ë –Ω–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–æ)
.venv\Scripts\activate.bat

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞
uvicorn src.main:app --reload --host 0.0.0.0 --port 8000
```

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É

1. **–ê–¥–º–∏–Ω–∫–∞:** http://localhost:8000/admin
   - –õ–æ–≥–∏–Ω/–ø–∞—Ä–æ–ª—å –∏–∑ .env (ADMIN__USERNAME / ADMIN__PASSWORD)

2. **Health check:** http://localhost:8000/health
   - –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å: `{"status": "ok"}`

3. **–ë–æ—Ç:** –Ω–∞–ø–∏—à–∏—Ç–µ `/start` –≤ Telegram

---

## –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

| –§–∞–π–ª | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|----------|
| `–£–°–¢–ê–ù–û–í–ò–¢–¨_–ü–†–û–ï–ö–¢.bat` | –ë–∞—Ç–Ω–∏–∫ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏ |
| `–ü–û–õ–ù–ê–Ø_–£–°–¢–ê–ù–û–í–ö–ê.py` | Python-—Å–∫—Ä–∏–ø—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏ |
| `.venv/` | –í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ (—Å–æ–∑–¥–∞—ë—Ç—Å—è –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ) |
| `.env` | –§–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (—Å–æ–∑–¥–∞—ë—Ç—Å—è –∏–∑ .env.example) |

---

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞

- **Python 3.11+** ‚Äî —è–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è
- **aiogram 3.x** ‚Äî Telegram Bot API
- **FastAPI** ‚Äî –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- **SQLAdmin** ‚Äî –≤–µ–±-–∞–¥–º–∏–Ω–∫–∞
- **SQLAlchemy 2.0** ‚Äî ORM –¥–ª—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- **Alembic** ‚Äî –º–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- **SQLite** ‚Äî –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)

---

## –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

```bash
# –õ–∏–Ω—Ç–µ—Ä
ruff check . --fix

# –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
ruff format .

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤
mypy .

# –¢–µ—Å—Ç—ã
pytest -q
```

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
.
‚îú‚îÄ‚îÄ config.yaml              # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –º–æ–¥–µ–ª–µ–π, —Ç–∞—Ä–∏—Ñ–æ–≤
‚îú‚îÄ‚îÄ locales/                 # –ü–µ—Ä–µ–≤–æ–¥—ã (ru.yaml, en.yaml)
‚îú‚îÄ‚îÄ alembic/                 # –ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î
‚îú‚îÄ‚îÄ data/                    # –î–∞–Ω–Ω—ã–µ (SQLite, –ª–æ–≥–∏)
‚îî‚îÄ‚îÄ src/
    ‚îú‚îÄ‚îÄ app/                 # FastAPI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
    ‚îú‚îÄ‚îÄ api/                 # HTTP endpoints
    ‚îú‚îÄ‚îÄ admin/               # –í–µ–±-–∞–¥–º–∏–Ω–∫–∞
    ‚îú‚îÄ‚îÄ bot/
    ‚îÇ   ‚îú‚îÄ‚îÄ handlers/        # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥
    ‚îÇ   ‚îú‚îÄ‚îÄ keyboards/       # –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã
    ‚îÇ   ‚îî‚îÄ‚îÄ middleware/      # Middleware
    ‚îú‚îÄ‚îÄ config/              # –ù–∞—Å—Ç—Ä–æ–π–∫–∏
    ‚îú‚îÄ‚îÄ db/                  # –ú–æ–¥–µ–ª–∏ –∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
    ‚îú‚îÄ‚îÄ services/            # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
    ‚îî‚îÄ‚îÄ providers/           # AI –∏ –ø–ª–∞—Ç–µ–∂–∏
```

---

## üöÄ –ó–∞–ø—É—Å—Ç–∏—Ç–µ `–£–°–¢–ê–ù–û–í–ò–¢–¨_–ü–†–û–ï–ö–¢.bat` –¥–ª—è –Ω–∞—á–∞–ª–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏!




