"""FSM состояния для команды /edit — редактирование изображений.

Управляет процессом редактирования изображений:
1. Ожидание изображения от пользователя
2. Выбор модели для редактирования
3. Ввод промпта (описание изменений)
4. Редактирование и отправка результата
"""

from aiogram.fsm.state import State, StatesGroup


class EditImageStates(StatesGroup):
    """Состояния FSM для команды /edit.

    Поток работы:
    1. /edit → ожидаем изображение от пользователя → waiting_for_image
    2. Пользователь отправляет изображение → показываем выбор модели →
       waiting_for_model_selection
    3. Пользователь выбирает модель → ожидаем промпт → waiting_for_prompt
    4. Пользователь вводит промпт → редактируем изображение → отправляем → выход

    Attributes:
        waiting_for_image: Ожидаем изображение от пользователя.
        waiting_for_model_selection: Ожидаем выбор модели (inline-кнопка).
        waiting_for_prompt: Ожидаем текстовое описание изменений.
    """

    # Шаг 1: Ожидание изображения
    # Пользователь должен отправить фото для редактирования
    waiting_for_image = State()

    # Шаг 2: Выбор модели
    # Пользователь видит inline-клавиатуру с доступными моделями редактирования
    waiting_for_model_selection = State()

    # Шаг 3: Ввод промпта
    # Пользователь описывает, какие изменения нужно внести в изображение
    waiting_for_prompt = State()
