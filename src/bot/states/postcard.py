"""FSM состояния для команды /postcard — генерация праздничных открыток.

Управляет процессом создания открыток:
1. Ожидание фото от пользователя
2. Выбор праздника (Новый год, День рождения, 8 марта и т.д.)
3. Ввод текста поздравления (опционально)
4. Генерация открытки и отправка результата
"""

from aiogram.fsm.state import State, StatesGroup


class PostcardStates(StatesGroup):
    """Состояния FSM для команды /postcard.

    Поток работы:
    1. /postcard → ожидаем фото от пользователя → waiting_for_image
    2. Пользователь отправляет фото → показываем выбор праздника →
       waiting_for_holiday_selection
    3. Пользователь выбирает праздник → спрашиваем текст поздравления →
       waiting_for_greeting_text
    4. Пользователь вводит текст или нажимает "Пропустить" →
       генерируем открытку → отправляем → выход из FSM

    Attributes:
        waiting_for_image: Ожидаем фото от пользователя.
        waiting_for_holiday_selection: Ожидаем выбор праздника (inline-кнопка).
        waiting_for_greeting_text: Ожидаем текст поздравления (опционально).
    """

    # Шаг 1: Ожидание фото
    # Пользователь должен отправить фото для создания открытки
    waiting_for_image = State()

    # Шаг 2: Выбор праздника
    # Пользователь видит inline-клавиатуру с праздниками
    waiting_for_holiday_selection = State()

    # Шаг 3: Ввод текста поздравления
    # Пользователь вводит персональное поздравление или пропускает этот шаг
    waiting_for_greeting_text = State()
